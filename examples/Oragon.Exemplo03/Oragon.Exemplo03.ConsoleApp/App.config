<?xml version="1.0" encoding="utf-8" ?>
<configuration>
	<configSections>
		<sectionGroup name="spring">
			<section name="context" type="Spring.Context.Support.ContextHandler, Spring.Core"/>
			<section name="objects" type="Spring.Context.Support.DefaultSectionHandler, Spring.Core"/>
		</sectionGroup>
	</configSections>
	<spring>
		<context>
			<resource uri="config://spring/objects"/>
		</context>
		<objects xmlns="http://www.springframework.net" xmlns:wcf="http://www.springframework.net/wcf" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:aop="http://www.springframework.net/aop">

			<object name="Classe01Service_Instance01"  type="Oragon.Exemplo03.ConsoleApp.Namespace1.Classe01Service, Oragon.Exemplo03.ConsoleApp" />

			<object name="Aspecto01" type="Oragon.Exemplo03.ConsoleApp.AOP.Aspecto01, Oragon.Exemplo03.ConsoleApp" />
			<object name="Aspecto02" type="Oragon.Exemplo03.ConsoleApp.AOP.Aspecto02, Oragon.Exemplo03.ConsoleApp">
				<property name="ExcetionParaSerRelancada">
					<object type="System.ApplicationException">
						<constructor-arg name="message" value="Um erro foi encontrado durante a execução. Contacte o administrador do sistema." />
					</object>
				</property>
			</object>
			<object name="Aspecto03" type="Oragon.Exemplo03.ConsoleApp.AOP.Aspecto03, Oragon.Exemplo03.ConsoleApp" />

			<object name="PadraoParaClassesAbaixoDoNamespace1" type="Spring.Aop.Support.SdkRegularExpressionMethodPointcut, Spring.Aop">
				<property name="Pattern" value="Oragon.Exemplo03.ConsoleApp.Namespace1.*" />
			</object>

			<aop:config>
				<aop:advisor pointcut-ref="PadraoParaClassesAbaixoDoNamespace1" advice-ref="Aspecto01"/>
				<aop:advisor pointcut-ref="PadraoParaClassesAbaixoDoNamespace1" advice-ref="Aspecto02"/>
				<aop:advisor pointcut-ref="PadraoParaClassesAbaixoDoNamespace1" advice-ref="Aspecto03"/>
			</aop:config>


		</objects>
	</spring>
	<startup>
		<supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.5" />
	</startup>
</configuration>